#!/usr/bin/env groovy

import groovy.util.slurpersupport.NodeChild

def files    = this.args
def triggers = []
def deps     = []

def processNode
processNode = { node ->
  if (node.name() == 'Trigger') {
    println "Trigger: " + node.@Name
  }
  else if (node.name() == 'PropertyClass') {
    println 'PropertyClass: ' + node.@Name
  }
  if (node.children().size() > 0) {
    node.children().each {
      processNode(it)
    }
  }
}

files.each {
    println "Processing " + it + "..."
    module = new XmlSlurper().parse(it)
    kids = module.children()
    if (kids.size() > 0) {
        kids.each { processNode(it) }
    }
    println "DONE."
}
